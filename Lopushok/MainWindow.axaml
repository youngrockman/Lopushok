<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        Icon="Images/lopux.ico"
        x:Class="Lopushok.MainWindow"
        x:CompileBindings="False"
        Title="Окно продуктов">

    <DockPanel>
		<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Top">
            <TextBox Width="300" Watermark="Введите для поиска" Name="SearchBox" Margin="5" KeyUp="SearchBox_KeyUp"/>
               <ComboBox Width="200" Margin="5" SelectionChanged="SortBox_SelectionChanged" Name="SortBox">
                <ComboBoxItem>Без сортировки</ComboBoxItem>
                <ComboBoxItem>Наименование (А-Я)</ComboBoxItem>
                <ComboBoxItem>Наименование (Я-А)</ComboBoxItem>
                <ComboBoxItem>Номер цеха (↑)</ComboBoxItem>
                <ComboBoxItem>Номер цеха (↓)</ComboBoxItem>
                <ComboBoxItem>Стоимость (↑)</ComboBoxItem>
                <ComboBoxItem>Стоимость (↓)</ComboBoxItem>
            </ComboBox>
            <ComboBox Name="FilterBox" Width="200" Margin="5" SelectionChanged="FilterBox_SelectionChanged"/>
            <Button Content="Добавить продукт" Click="AddWindow_Click"/>
        </StackPanel>

       

            
            <ListBox Name="ProductsBox"  DoubleTapped="ProductListBox_Click">
				<ListBox.ItemsPanel>
					<ItemsPanelTemplate>
						<UniformGrid Columns="1"></UniformGrid>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemTemplate>
					<DataTemplate>
                    <Border BorderThickness="1" BorderBrush="Black" Margin="5">
                        <DockPanel Margin="5">

                            <Image Height="80" Width="80" Source="{Binding ParseImage}" DockPanel.Dock="Left" VerticalAlignment="Top" Margin="0,0,10,0"/>
                            

                            <StackPanel DockPanel.Dock="Right" VerticalAlignment="Top" Margin="10,0,0,0">
                                <TextBlock Text="{Binding TotalCost}"/>
                            </StackPanel>
                            
                            <StackPanel VerticalAlignment="Top">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Producttypeid}" 
                                               FontSize="14" />
                                    <TextBlock Text=" | " 
                                               FontSize="14" 
                                               Margin="2,0,2,0"/>
                                    <TextBlock Text="{Binding Title}" 
                                               FontSize="14" />
                                </StackPanel>
                                
                                <TextBlock Text="{Binding Articlenumber}" 
                                           Margin="0,5,0,0"
                                           FontSize="12"/>
                                
                                <TextBlock Text="Материалы:" 
                                           Margin="0,5,0,0"
                                           FontSize="12"/>
                                <TextBlock Text="{Binding MaterialsList}" 
                                    Margin="0,5,0,0"
                                    FontSize="11"
                                    TextWrapping="Wrap"/>
                            </StackPanel>
                            
                        </DockPanel>
                    </Border>
                </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
       

    </DockPanel>
    
</Window>
